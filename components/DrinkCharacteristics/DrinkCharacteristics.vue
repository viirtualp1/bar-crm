<template>
  <div class="drink-characteristics">
    <div class="drink-characteristics__chips">
      <v-chip class="drink-characteristics__chip" color="error">
        Крепкость {{ drink.strength }}%
      </v-chip>
      <v-chip class="drink-characteristics__chip" color="success">
        Плотность {{ drink.density }}%
      </v-chip>
    </div>
    <div class="drink-characteristics__chips">
      <v-chip
        class="drink-characteristics__chip"
        v-for="(type, idx) in drink.types"
        :key="idx"
        color="info"
      >
        {{ getType(type) }}
      </v-chip>
    </div>

    <div
      v-if="drink.locations.length > 0"
      class="drink-characteristics__locations"
    >
      <v-chip
        v-for="location in drink.locations"
        class="drink-characteristics__location"
        color="teal"
        text-color="white"
      >
        <v-icon
          v-if="location === 0"
          icon="mdi-glass-mug-variant"
          class="mr-1"
        />
        <v-icon v-if="location === 1" icon="mdi-car-back" class="mr-1" />

        {{ getLocation(location) }}
      </v-chip>
    </div>
  </div>
</template>

<script setup lang="ts">
import type { DrinkData } from '@/types/product'
import { locations, types } from '~/utils/drink'

defineProps({
  drink: {
    type: Object as PropType<DrinkData>,
    default: null,
  },
})

const getLocation = (location: number) =>
  locations[location as keyof typeof locations]

const getType = (type: string) => types[type as keyof typeof types]
</script>

<style lang="scss" src="./DrinkCharacteristics.scss"></style>
